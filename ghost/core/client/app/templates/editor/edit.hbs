<style type="text/css">
    b {font-weight: bold;}
    i {font-style: italic;}
</style>


<!--BEGIN STORY DETAIL -->
<div id="story-detail">
    <!--STORY INTRO AREA-->
    <div id="story-intro">
        <div class="edit-icon"></div>

        <!--REMOVE not-edited-yet class when user starts editing-->
        <!--This will remove the default grey-->
        <h2>
            {{!-- <section class="box entry-title">
                {{textarea id="entry-title" placeholder="Your Post Title" value=model.titleScratch
                tabindex="1" focus=shouldFocusTitle}}
            </section> --}}
            {{#if model.titleScratch}}
                <div class="editable-wrapper" contenteditable="true" id="entry-title">{{model.titleScratch}}</div>
            {{else}}
                <div class="editable-wrapper not-edited-yet" contenteditable="true" id="entry-title">Enter Story Title...</div>
            {{/if}}
        </h2>
    </div>
    <!--END STORY INTRO AREA-->

    <!--BEGIN STORY IMAGE-->
    <div id="story-image">
        {{gh-uploader uploaded="setCoverImage" canceled="clearCoverImage" description="Add post image" image=model.image uploaderReference=uploaderReference tagName="section"}}

        {{!-- <!--
        <img src="images/placeholder_story_image.jpg">
        -->
        <div id="upload-container"></div> --}}
    </div>
    <!--END STORY IMAGE-->
    <!--BEGIN STORY BODY-->
    <div id="story-body">
        <div class="edit-icon"></div>
       {{#if model.scratch}}
        <div class="editable-wrapper " contenteditable="true">
            <section class="entry-markdown js-entry-markdown {{unless isPreview 'active'}}">
                <section id="entry-markdown-content" class="entry-markdown-content">
                    {{gh-ed-editor classNames="markdown-editor js-markdown-editor" tabindex="1" spellcheck="true" value=model.scratch
                    scrollInfo=view.editorScrollInfo focus=shouldFocusEditor focusCursorAtEnd=model.isDirty
                    setEditor="setEditor" openModal="openModal" onFocusIn="autoSaveNew"}}
                </section>
            </section>
        </div>
       {{else}}
       <div class="editable-wrapper not-edited-yet" contenteditable="true">
            <section class="entry-markdown js-entry-markdown {{unless isPreview 'active'}}">
                <section id="entry-markdown-content" class="entry-markdown-content">
                    {{gh-ed-editor classNames="markdown-editor js-markdown-editor" tabindex="1" spellcheck="true" value=model.scratch
                    scrollInfo=view.editorScrollInfo focus=shouldFocusEditor focusCursorAtEnd=model.isDirty
                    setEditor="setEditor" openModal="openModal" onFocusIn="autoSaveNew"}}
                </section>
            </section>
        </div>
       {{/if}}
    </div>
    <!--END STORY BODY-->

    <script type="text/javascript">
        $("[contenteditable=true]").on("keyup", function(){ $(this).closest(".not-edited-yet").removeClass("not-edited-yet"); });
    </script>

</div>
<!--END STORY DETAIL-->

{{!-- <header class="page-header">
    <button class="menu-button js-menu-button" {{action "toggleGlobalMobileNav"}}><span class="sr-only">Menu</span></button>
    <h2 class="page-title">Editor</h2>
</header>
 --}}
{{!-- <div class="page-content">
    <header>
        <section class="box entry-title">
            {{gh-trim-focus-input type="text" id="entry-title" placeholder="Your Post Title" value=model.titleScratch
            tabindex="1" focus=shouldFocusTitle}}
        </section>
    </header>
    

    <div class="settings-menu-content">
    {{gh-uploader uploaded="setCoverImage" canceled="clearCoverImage" description="Add post image" image=model.image uploaderReference=uploaderReference tagName="section"}}
    </div>

    <section class="entry-markdown js-entry-markdown {{unless isPreview 'active'}}">
        <section id="entry-markdown-content" class="entry-markdown-content">
            {{gh-ed-editor classNames="markdown-editor js-markdown-editor" tabindex="1" spellcheck="true" value=model.scratch
            scrollInfo=view.editorScrollInfo focus=shouldFocusEditor focusCursorAtEnd=model.isDirty
            setEditor="setEditor" openModal="openModal" onFocusIn="autoSaveNew"}}
        </section>
    </section>

    {{partial "publish-bar"}}

</div>
 --}}

